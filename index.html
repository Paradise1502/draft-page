<script>
    const players = [ /* Your player list goes here */ ];
    let localState = { teamA: [], teamB: [] };

    // This function asks the server "Who has been picked?" every 2 seconds
    async function updateFromServer() {
        const res = await fetch('/api/state');
        localState = await res.json();
        render(); // This redraws the screen with the new data
    }

    // This function tells the server "I am picking this player"
    async function draft(i, team) {
        await fetch('/api/draft', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({index: i, team: team})
        });
        updateFromServer();
    }

    setInterval(updateFromServer, 2000); // Auto-sync every 2 seconds
    updateFromServer(); // Initial load
</script>
